webpackJsonp([6,5],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(6),u=o(r);n(32),n(34);var a=n(35),i=o(a),c=n(82),s=o(c);i["default"].start(s["default"],"#app"),console.info("[当前环境] 生产环境"),u["default"].config.devtools=!1},,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),u=o(r);e["default"]=u["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(41),u=o(r);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,u["default"])(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},function(t,e,n){t.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),u=o(r),a=n(4),i=o(a),c=n(2),s=o(c),f=function(){function t(){(0,u["default"])(this,t)}return(0,i["default"])(t,[{key:"checkLogin",value:function(){return(0,s["default"])({url:"/user"})}},{key:"login",value:function(t){return(0,s["default"])({method:"post",url:"/login",body:t})}},{key:"logout",value:function(){return(0,s["default"])({url:"/logout"})}}]),t}();e["default"]=new f},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},,,function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(11),r=n(9),u=n(49),a=n(53),i="prototype",c=function(t,e,n){var s,f,l,d=t&c.F,p=t&c.G,v=t&c.S,b=t&c.P,g=t&c.B,h=t&c.W,y=p?r:r[e]||(r[e]={}),m=y[i],_=p?o:v?o[e]:(o[e]||{})[i];p&&(n=e);for(s in n)f=!d&&_&&void 0!==_[s],f&&s in y||(l=f?_[s]:n[s],y[s]=p&&"function"!=typeof _[s]?n[s]:g&&f?u(l,o):h&&_[s]==l?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[i]=t[i],e}(l):b&&"function"==typeof l?u(Function.call,l):l,b&&((y.virtual||(y.virtual={}))[s]=l,t&c.R&&m&&!m[s]&&a(m,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var o=n(48);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(46),r=n(54),u=n(66),a=Object.defineProperty;e.f=n(5)?Object.defineProperty:function(t,e,n){if(o(t),e=u(e,!0),o(n),r)try{return a(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(17),r=n(15);t.exports=function(t){return o(r(t))}},,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(90),u=o(r);e["default"]={components:{Navbar:u["default"]},data:function(){return{userData:null}}}},,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),u=o(r);e["default"]={data:function(){return{username:""}},methods:{handleLogin:function(){var t=this;console.info("[LoginForm:XHR] 发送登录请求"),u["default"].login({username:this.username}).then(function(e){console.info("[LoginForm] 登录成功，立即设置 session 到 $root.userData"),t.$root.userData=e})}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),u=o(r);e["default"]={methods:{handleLogout:function(){var t=this;u["default"].logout().then(function(){console.info("[LogoutDropdown:XHR] 注销登录，立即清空 $root.userData 的 session"),t.$root.userData=null,t.$router.replace("/")})}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(88),u=o(r),a=n(89),i=o(a),c=n(8),s=o(c);e["default"]={components:{LoginForm:u["default"],LogoutDropdown:i["default"]},created:function(){var t=this;console.info("[Navbar:XHR] 检测用户是否已经登录"),s["default"].checkLogin().then(function(e){return e?(console.info("[Navbar] 检测完毕，当前用户已经登录，立即设置 session 到 $root.userData"),void(t.$root.userData=e)):console.info("[Navbar] 检测完毕，当前用户尚未登录")})}}},function(t,e){"use strict"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t>=10?t:"0"+t};e["default"]=function(t,e){var o=new Date(t),r=o.getFullYear(),u=o.getMonth()+1,a=o.getDate(),i=o.getHours(),c=o.getMinutes(),s=o.getSeconds();switch(e){case 0:return n(u)+"-"+n(a);case 1:return n(i)+"-"+n(c);case 2:return r+"-"+n(u)+"-"+n(a);case 3:return r+"-"+n(u)+"-"+n(a)+"  "+n(i)+":"+n(c);default:return r+"-"+n(u)+"-"+n(a)+"  "+n(i)+":"+n(c)+":"+n(s)}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(6),u=o(r);u["default"].filter("dateTimeFormatter",n(33)["default"])},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),u=o(r),a=n(22),i=o(a),c=n(36),s=o(c);u["default"].use(i["default"]);var f=new i["default"]({suppressTransitionError:!0});f.map(s["default"]),f.beforeEach(function(t){var e=t.to,n=t.from,o=(t.abort,t.redirect,t.next);console.info("[RouteLogger] "+decodeURI(n.path)+" => "+decodeURI(e.path)),o()}),f.beforeEach(function(t){var e=t.to,n=(t.from,t.abort),o=(t.redirect,t.next);return e.needToLogin&&!f.app.userData?(alert("需要登录后才能访问"),console.info("[Auth:Failed] 用户未登录，中断跳转"),n()):void o()}),e["default"]=f},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(42),u=o(r),a=n(37),i=o(a);e["default"]=(0,u["default"])({"*":{component:{ready:function(){alert("404 - Page not found"),this.$router.replace("/")}}},"/redirect":{name:"redirect",component:{ready:function(){this.$router.replace(this.$route.query.dest)}}},"/":{name:"welcome",component:function(t){n.e(3,function(e){var n=[e(92)];t.apply(null,n)}.bind(this))}}},i["default"])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={"/msg":{component:function(t){n.e(4,function(e){var n=[e(91)];t.apply(null,n)}.bind(this))},subRoutes:{"/":{name:"msgIndex",component:function(t){n.e(1,function(e){var n=[e(87)];t.apply(null,n)}.bind(this))}},"/detail/:msgId":{name:"detailMsg",component:function(t){n.e(2,function(e){var n=[e(83)];t.apply(null,n)}.bind(this))}},"/add":{name:"addMsg",component:function(t){n.e(0,function(e){var n=[e(21)];t.apply(null,n)}.bind(this))},needToLogin:!0},"/modify/:msgId":{name:"modifyMsg",component:function(t){n.e(0,function(e){var n=[e(21)];t.apply(null,n)}.bind(this))},needToLogin:!0}}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.rootPath="http://localhost:8989",e.errHandler=function(t){alert("[ XHR:Failed ] 详情请看控制台"),console.error(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),r=function(t){var e=t.url,n=t.body,r=void 0===n?null:n,u=t.method,a=void 0===u?"get":u,i=$.Deferred();return $.ajax({type:a,url:o.rootPath+e,data:r}).done(i.resolve).fail(o.errHandler),i.promise()};e["default"]=r},function(t,e,n){t.exports={"default":n(43),__esModule:!0}},function(t,e,n){t.exports={"default":n(44),__esModule:!0}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(40),u=o(r);e["default"]=u["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e,n){n(68),t.exports=n(9).Object.assign},function(t,e,n){n(69);var o=n(9).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(12);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(20),r=n(64),u=n(63);t.exports=function(t){return function(e,n,a){var i,c=o(e),s=r(c.length),f=u(a,s);if(t&&n!=n){for(;s>f;)if(i=c[f++],i!=i)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(45);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(12),r=n(11).document,u=o(r)&&o(r.createElement);t.exports=function(t){return u?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(18),r=n(60);t.exports=n(5)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(5)&&!n(10)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var o=n(58),r=n(56),u=n(59),a=n(65),i=n(17),c=Object.assign;t.exports=!c||n(10)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=o})?function(t,e){for(var n=a(t),c=arguments.length,s=1,f=r.f,l=u.f;c>s;)for(var d,p=i(arguments[s++]),v=f?o(p).concat(f(p)):o(p),b=v.length,g=0;b>g;)l.call(p,d=v[g++])&&(n[d]=p[d]);return n}:c},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(52),r=n(20),u=n(47)(!1),a=n(61)("IE_PROTO");t.exports=function(t,e){var n,i=r(t),c=0,s=[];for(n in i)n!=a&&o(i,n)&&s.push(n);for(;e.length>c;)o(i,n=e[c++])&&(~u(s,n)||s.push(n));return s}},function(t,e,n){var o=n(57),r=n(51);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(62)("keys"),r=n(67);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(11),r="__core-js_shared__",u=o[r]||(o[r]={});t.exports=function(t){return u[t]||(u[t]={})}},function(t,e,n){var o=n(19),r=Math.max,u=Math.min;t.exports=function(t,e){return t=o(t),0>t?r(t+e,0):u(t,e)}},function(t,e,n){var o=n(19),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(15);t.exports=function(t){return Object(o(t))}},function(t,e,n){var o=n(12);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){var o=n(16);o(o.S+o.F,"Object",{assign:n(55)})},function(t,e,n){var o=n(16);o(o.S+o.F*!n(5),"Object",{defineProperty:n(18).f})},function(t,e){t.exports="<div> <navbar></navbar> <div class=container> <router-view></router-view> </div> </div>"},,,,,function(t,e){t.exports='<form role=search class="navbar-form navbar-right" @submit.prevent=handleLogin> <div class=form-group> <input required type=text class=form-control placeholder=请输入您的用户名 v-model=username /> </div> <button type=submit class="btn btn-success"> 登录 </button> </form>'},function(t,e){t.exports='<ul class="nav navbar-nav navbar-right"> <li class=dropdown> <a class=dropdown-toggle href=javascript:; data-toggle=dropdown> 欢迎您，{{ $root.userData.username }} <strong class=caret></strong> </a> <ul class=dropdown-menu> <li @click=handleLogout> <a href=javascript:;> 注销登录 </a> </li> </ul> </li> </ul>'},function(t,e){t.exports='<div class="row clearfix"> <div class="col-md-12 column"> <nav class="navbar navbar-default" role=navigation> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=#nav-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand v-link="\'/\'"> Vue Demo </a> </div> <div class="collapse navbar-collapse" id=nav-collapse> <ul class="nav navbar-nav"> <li :class="{ \'active\': $route.path === \'/\' }"> <a v-link="\'/\'"> 欢迎页 </a> </li> <li :class="{ \'active\': $route.path.startsWith(\'/msg\') }"> <a v-link="\'/msg\'"> 留言板 </a> </li> </ul> <login-form v-if=!$root.userData></login-form> <logout-dropdown v-if=$root.userData></logout-dropdown> </div> </nav> </div> </div>'},,,,,function(t,e,n){var o,r;o=n(23),r=n(70),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},,,,,,function(t,e,n){var o,r;o=n(29),r=n(75),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,n){var o,r;o=n(30),r=n(76),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,n){var o,r;o=n(31),r=n(77),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}]);